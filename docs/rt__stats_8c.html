<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>My Project: src/runtime/rt_stats.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_bf9f26469d00835ba20ff8d80ee5a804.html">runtime</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rt_stats.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Collecting statistics within the runtime.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="rt__stats_8h_source.html">rt_stats.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="stats_8h_source.html">stats.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="logging_8h_source.html">logging.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdio_ext.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
</div>
<p><a href="rt__stats_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstat__item.html">stat_item</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The internal statistics structure where stats are aggregated One per statistic-item.  <a href="structstat__item.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstat__type.html">stat_type</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The structure holding all items of a type of stats.  <a href="structstat__type.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ade4c06414722e68d0198b151bac6439d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ade4c06414722e68d0198b151bac6439d">CLOCK_ID</a>&#160;&#160;&#160;CLOCK_REALTIME_COARSE</td></tr>
<tr class="memdesc:ade4c06414722e68d0198b151bac6439d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The clock used to mark the time at which events take place.  <a href="#ade4c06414722e68d0198b151bac6439d">More...</a><br/></td></tr>
<tr class="separator:ade4c06414722e68d0198b151bac6439d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c99d1b55ad6b6c60b7b24cfc2e1c70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ad5c99d1b55ad6b6c60b7b24cfc2e1c70">DURATION_CLOCK_ID</a>&#160;&#160;&#160;CLOCK_MONOTONIC</td></tr>
<tr class="separator:ad5c99d1b55ad6b6c60b7b24cfc2e1c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8923f02eb7dfba43a426b8320354da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a0f8923f02eb7dfba43a426b8320354da">MAX_STATS</a>&#160;&#160;&#160;8192</td></tr>
<tr class="memdesc:a0f8923f02eb7dfba43a426b8320354da"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of statistics that can be held in the rrdb.  <a href="#a0f8923f02eb7dfba43a426b8320354da">More...</a><br/></td></tr>
<tr class="separator:a0f8923f02eb7dfba43a426b8320354da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c029dcc783c39bf434d8209e1955a15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a1c029dcc783c39bf434d8209e1955a15">GATHER_STATS</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a1c029dcc783c39bf434d8209e1955a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to 0, will disable all gathering of statistics.  <a href="#a1c029dcc783c39bf434d8209e1955a15">More...</a><br/></td></tr>
<tr class="separator:a1c029dcc783c39bf434d8209e1955a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a152504ea5537bced64a03d1bfe766"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ac5a152504ea5537bced64a03d1bfe766">GATHER_MSU_STATS</a>&#160;&#160;&#160;1 &amp; <a class="el" href="rt__stats_8c.html#a1c029dcc783c39bf434d8209e1955a15">GATHER_STATS</a></td></tr>
<tr class="separator:ac5a152504ea5537bced64a03d1bfe766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525d02d366a7a16a9b33ac9d1dd31b4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a525d02d366a7a16a9b33ac9d1dd31b4e">GATHER_CUSTOM_STATS</a>&#160;&#160;&#160;1 &amp; <a class="el" href="rt__stats_8c.html#a1c029dcc783c39bf434d8209e1955a15">GATHER_STATS</a></td></tr>
<tr class="separator:a525d02d366a7a16a9b33ac9d1dd31b4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad861b63dad38014de624510e6211c84d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ad861b63dad38014de624510e6211c84d">GATHER_THREAD_STATS</a>&#160;&#160;&#160;1 &amp; <a class="el" href="rt__stats_8c.html#a1c029dcc783c39bf434d8209e1955a15">GATHER_STATS</a></td></tr>
<tr class="separator:ad861b63dad38014de624510e6211c84d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c0f9bcea8f2b5cd4a08a7d4b76548f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a6c0f9bcea8f2b5cd4a08a7d4b76548f7">GATHER_PROFILING</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a6c0f9bcea8f2b5cd4a08a7d4b76548f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8af8a5fe5beb6d2b7209d056d79ef2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#aaa8af8a5fe5beb6d2b7209d056d79ef2">N_STAT_TYPES</a>&#160;&#160;&#160;(sizeof(<a class="el" href="controller__stats_8c.html#a62672346ada903ef5c36c3999fa0ddc0">stat_types</a>) / sizeof(*<a class="el" href="controller__stats_8c.html#a62672346ada903ef5c36c3999fa0ddc0">stat_types</a>))</td></tr>
<tr class="memdesc:aaa8af8a5fe5beb6d2b7209d056d79ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of types of statistics.  <a href="#aaa8af8a5fe5beb6d2b7209d056d79ef2">More...</a><br/></td></tr>
<tr class="separator:aaa8af8a5fe5beb6d2b7209d056d79ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42d9f9c2d23c20df602e49b990f0b35f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a42d9f9c2d23c20df602e49b990f0b35f">CHECK_INITIALIZATION</a></td></tr>
<tr class="separator:a42d9f9c2d23c20df602e49b990f0b35f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab774f01c84ab0258822e84f50c55c31e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ab774f01c84ab0258822e84f50c55c31e">WARN_ROLLOVER</a>(label, item_id)</td></tr>
<tr class="separator:ab774f01c84ab0258822e84f50c55c31e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1a247d3104510651156010e436331a51"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a1a247d3104510651156010e436331a51">write_item_to_log</a> (FILE *out_file, struct <a class="el" href="structstat__type.html">stat_type</a> *type, struct <a class="el" href="structstat__item.html">stat_item</a> *item)</td></tr>
<tr class="memdesc:a1a247d3104510651156010e436331a51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a single stat item to the log file.  <a href="#a1a247d3104510651156010e436331a51">More...</a><br/></td></tr>
<tr class="separator:a1a247d3104510651156010e436331a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a962ab14270a8ff454212d1dc31a2b272"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a962ab14270a8ff454212d1dc31a2b272">get_elapsed_time</a> (struct timespec *t)</td></tr>
<tr class="memdesc:a962ab14270a8ff454212d1dc31a2b272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the amount of time that has elapsed since logging started.  <a href="#a962ab14270a8ff454212d1dc31a2b272">More...</a><br/></td></tr>
<tr class="separator:a962ab14270a8ff454212d1dc31a2b272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73b43b52edc5ef1295f88a474feb5a5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#af73b43b52edc5ef1295f88a474feb5a5">wrlock_type</a> (struct <a class="el" href="structstat__type.html">stat_type</a> *type)</td></tr>
<tr class="memdesc:af73b43b52edc5ef1295f88a474feb5a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks a stat type for writing.  <a href="#af73b43b52edc5ef1295f88a474feb5a5">More...</a><br/></td></tr>
<tr class="separator:af73b43b52edc5ef1295f88a474feb5a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1123286c48a6f646108d22d975e4ce6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ab1123286c48a6f646108d22d975e4ce6">unlock_type</a> (struct <a class="el" href="structstat__type.html">stat_type</a> *type)</td></tr>
<tr class="memdesc:ab1123286c48a6f646108d22d975e4ce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks a stat type.  <a href="#ab1123286c48a6f646108d22d975e4ce6">More...</a><br/></td></tr>
<tr class="separator:ab1123286c48a6f646108d22d975e4ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5ba8f15e0132953dc421a6320debc19"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ae5ba8f15e0132953dc421a6320debc19">rlock_type</a> (struct <a class="el" href="structstat__type.html">stat_type</a> *type)</td></tr>
<tr class="memdesc:ae5ba8f15e0132953dc421a6320debc19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks a stat type for reading.  <a href="#ae5ba8f15e0132953dc421a6320debc19">More...</a><br/></td></tr>
<tr class="separator:ae5ba8f15e0132953dc421a6320debc19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0810533bb8602d4909080e6764a25be"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ab0810533bb8602d4909080e6764a25be">lock_item</a> (struct <a class="el" href="structstat__item.html">stat_item</a> *item)</td></tr>
<tr class="memdesc:ab0810533bb8602d4909080e6764a25be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks an item_stats structure, printing an error message on failure.  <a href="#ab0810533bb8602d4909080e6764a25be">More...</a><br/></td></tr>
<tr class="separator:ab0810533bb8602d4909080e6764a25be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f4d13ef3967b5d3b7890089cebaf8f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ac5f4d13ef3967b5d3b7890089cebaf8f">unlock_item</a> (struct <a class="el" href="structstat__item.html">stat_item</a> *item)</td></tr>
<tr class="memdesc:ac5f4d13ef3967b5d3b7890089cebaf8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks an item_stats structure, printing an error message on failure.  <a href="#ac5f4d13ef3967b5d3b7890089cebaf8f">More...</a><br/></td></tr>
<tr class="separator:ac5f4d13ef3967b5d3b7890089cebaf8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae157ee19e45d7f91c3dbf7a061190795"><td class="memItemLeft" align="right" valign="top">static void <a class="el" href="unused__def_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ae157ee19e45d7f91c3dbf7a061190795">flush_all_stats_to_log</a> (FILE *file)</td></tr>
<tr class="memdesc:ae157ee19e45d7f91c3dbf7a061190795"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes all statistics to the provided log file.  <a href="#ae157ee19e45d7f91c3dbf7a061190795">More...</a><br/></td></tr>
<tr class="separator:ae157ee19e45d7f91c3dbf7a061190795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81c3f80dc55b738b8e93e1049b3b9378"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a81c3f80dc55b738b8e93e1049b3b9378">destroy_stat_item</a> (struct <a class="el" href="structstat__item.html">stat_item</a> *item)</td></tr>
<tr class="memdesc:a81c3f80dc55b738b8e93e1049b3b9378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the memory associated with an individual stat item.  <a href="#a81c3f80dc55b738b8e93e1049b3b9378">More...</a><br/></td></tr>
<tr class="separator:a81c3f80dc55b738b8e93e1049b3b9378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b88f931c29008e7e0b4e4c4901b876"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structstat__item.html">stat_item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a81b88f931c29008e7e0b4e4c4901b876">get_item_stat</a> (struct <a class="el" href="structstat__type.html">stat_type</a> *type, unsigned int item_id)</td></tr>
<tr class="memdesc:a81b88f931c29008e7e0b4e4c4901b876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the stat item associated with the given item_id in the given type.  <a href="#a81b88f931c29008e7e0b4e4c4901b876">More...</a><br/></td></tr>
<tr class="separator:a81b88f931c29008e7e0b4e4c4901b876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94c43a4265632fb601fa6f12bd35410"><td class="memItemLeft" align="right" valign="top">static long double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ac94c43a4265632fb601fa6f12bd35410">current_double_time</a> ()</td></tr>
<tr class="separator:ac94c43a4265632fb601fa6f12bd35410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad884fea983aadeb07eace27335ed7f39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ad884fea983aadeb07eace27335ed7f39">record_start_time</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, unsigned int item_id)</td></tr>
<tr class="memdesc:ad884fea983aadeb07eace27335ed7f39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a measurement of elapsed time.  <a href="#ad884fea983aadeb07eace27335ed7f39">More...</a><br/></td></tr>
<tr class="separator:ad884fea983aadeb07eace27335ed7f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb590970b6d8425e105608e8f32ffe0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#acb590970b6d8425e105608e8f32ffe0c">record_end_time</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, unsigned int item_id)</td></tr>
<tr class="memdesc:acb590970b6d8425e105608e8f32ffe0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records the elapsed time since the previous call to record_start_time.  <a href="#acb590970b6d8425e105608e8f32ffe0c">More...</a><br/></td></tr>
<tr class="separator:acb590970b6d8425e105608e8f32ffe0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acff104aea41cb59659523c979b3d193d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#acff104aea41cb59659523c979b3d193d">increment_stat</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, unsigned int item_id, double value)</td></tr>
<tr class="memdesc:acff104aea41cb59659523c979b3d193d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the given statistic by the provided value.  <a href="#acff104aea41cb59659523c979b3d193d">More...</a><br/></td></tr>
<tr class="separator:acff104aea41cb59659523c979b3d193d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab992698ed0b92b65824db71f24e09c29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ab992698ed0b92b65824db71f24e09c29">record_stat</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, unsigned int item_id, double stat, bool relog)</td></tr>
<tr class="memdesc:ab992698ed0b92b65824db71f24e09c29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records a statistic in the statlog.  <a href="#ab992698ed0b92b65824db71f24e09c29">More...</a><br/></td></tr>
<tr class="separator:ab992698ed0b92b65824db71f24e09c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6d4566e62da1172c23a6b435c27dc73"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#af6d4566e62da1172c23a6b435c27dc73">get_last_stat</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, unsigned int item_id)</td></tr>
<tr class="memdesc:af6d4566e62da1172c23a6b435c27dc73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last statistic recorded.  <a href="#af6d4566e62da1172c23a6b435c27dc73">More...</a><br/></td></tr>
<tr class="separator:af6d4566e62da1172c23a6b435c27dc73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd7dde54c9c6c35e6c3fd56003f76946"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#afd7dde54c9c6c35e6c3fd56003f76946">time_cmp</a> (struct timespec *t1, struct timespec *t2)</td></tr>
<tr class="memdesc:afd7dde54c9c6c35e6c3fd56003f76946"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 1 if t1 &gt; t2, -1 if t2 &gt; t1, 0 otherwise.  <a href="#afd7dde54c9c6c35e6c3fd56003f76946">More...</a><br/></td></tr>
<tr class="separator:afd7dde54c9c6c35e6c3fd56003f76946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c8263aa03ba689b06e2cf9561d3821"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ac1c8263aa03ba689b06e2cf9561d3821">find_time_index</a> (struct <a class="el" href="structtimed__stat.html">timed_stat</a> *stats, struct timespec *time, int start_index, int stat_size)</td></tr>
<tr class="memdesc:ac1c8263aa03ba689b06e2cf9561d3821"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the index at which the given time occurred in the stats.  <a href="#ac1c8263aa03ba689b06e2cf9561d3821">More...</a><br/></td></tr>
<tr class="separator:ac1c8263aa03ba689b06e2cf9561d3821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a602037be515c3e6d60b1fd4914edbb5b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a602037be515c3e6d60b1fd4914edbb5b">sample_stat_item</a> (struct <a class="el" href="structstat__item.html">stat_item</a> *item, int stat_size, struct timespec *sample_end, struct timespec *interval, int sample_size, struct <a class="el" href="structtimed__stat.html">timed_stat</a> *sample)</td></tr>
<tr class="memdesc:a602037be515c3e6d60b1fd4914edbb5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a sample of the provided stat item and stores it in <code>sample</code>  <a href="#a602037be515c3e6d60b1fd4914edbb5b">More...</a><br/></td></tr>
<tr class="separator:a602037be515c3e6d60b1fd4914edbb5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae042ae408c37f8bccfe835d3a4d7c649"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#ae042ae408c37f8bccfe835d3a4d7c649">sample_stat</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, struct timespec *end, struct timespec *interval, int sample_size, struct <a class="el" href="structstat__sample.html">stat_sample</a> *sample, int n_samples)</td></tr>
<tr class="memdesc:ae042ae408c37f8bccfe835d3a4d7c649"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a sample of the provided stat type (stat_id) and places it in <code>sample</code>  <a href="#ae042ae408c37f8bccfe835d3a4d7c649">More...</a><br/></td></tr>
<tr class="separator:ae042ae408c37f8bccfe835d3a4d7c649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb06fb1e42d197434d2daad9ea3297cd"><td class="memItemLeft" align="right" valign="top">static int <a class="el" href="unused__def_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#adb06fb1e42d197434d2daad9ea3297cd">sample_recent_stats</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, struct timespec *interval, int sample_size, struct <a class="el" href="structstat__sample.html">stat_sample</a> *sample, int n_samples)</td></tr>
<tr class="memdesc:adb06fb1e42d197434d2daad9ea3297cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples <code>sample_size</code> most recent stats in <code>interval</code> intervals.  <a href="#adb06fb1e42d197434d2daad9ea3297cd">More...</a><br/></td></tr>
<tr class="separator:adb06fb1e42d197434d2daad9ea3297cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41175d7860a1561e0625432e8b3d255a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structstat__sample.html">stat_sample</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a41175d7860a1561e0625432e8b3d255a">get_stat_samples</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, struct timespec *sample_time, int *n_samples_out)</td></tr>
<tr class="memdesc:a41175d7860a1561e0625432e8b3d255a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples the statistic with the provided stat_id.  <a href="#a41175d7860a1561e0625432e8b3d255a">More...</a><br/></td></tr>
<tr class="separator:a41175d7860a1561e0625432e8b3d255a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23576a14e890526ab2d96e4aa3556e0e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a23576a14e890526ab2d96e4aa3556e0e">realloc_stat_samples</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, int n_samples)</td></tr>
<tr class="memdesc:a23576a14e890526ab2d96e4aa3556e0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reallocates the existing stats structure to store the provided number of samples.  <a href="#a23576a14e890526ab2d96e4aa3556e0e">More...</a><br/></td></tr>
<tr class="separator:a23576a14e890526ab2d96e4aa3556e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8079b9382495fb3489600591651afc28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a8079b9382495fb3489600591651afc28">remove_stat_item</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, unsigned int item_id)</td></tr>
<tr class="memdesc:a8079b9382495fb3489600591651afc28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Un-registers an item so it can no longer have statistics registered, and will not be reported to the global controller.  <a href="#a8079b9382495fb3489600591651afc28">More...</a><br/></td></tr>
<tr class="separator:a8079b9382495fb3489600591651afc28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d06b36d94388ed944b67baeb24c1e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a75d06b36d94388ed944b67baeb24c1e9">init_stat_item</a> (enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>, unsigned int item_id)</td></tr>
<tr class="memdesc:a75d06b36d94388ed944b67baeb24c1e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a stat item so that statistics can be logged to it.  <a href="#a75d06b36d94388ed944b67baeb24c1e9">More...</a><br/></td></tr>
<tr class="separator:a75d06b36d94388ed944b67baeb24c1e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987e4bed1652d7ebda191ee1f202addc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a987e4bed1652d7ebda191ee1f202addc">init_statistics</a> ()</td></tr>
<tr class="memdesc:a987e4bed1652d7ebda191ee1f202addc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the entire stats module.  <a href="#a987e4bed1652d7ebda191ee1f202addc">More...</a><br/></td></tr>
<tr class="separator:a987e4bed1652d7ebda191ee1f202addc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214f5bec97705d204e566b59eb4fd3a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a214f5bec97705d204e566b59eb4fd3a4">finalize_statistics</a> (char *statlog)</td></tr>
<tr class="memdesc:a214f5bec97705d204e566b59eb4fd3a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the statistics to statlog if provided, and frees assocated structure.  <a href="#a214f5bec97705d204e566b59eb4fd3a4">More...</a><br/></td></tr>
<tr class="separator:a214f5bec97705d204e566b59eb4fd3a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa42dd6cab7ce22529b5bc68011d1d21a"><td class="memItemLeft" align="right" valign="top">static struct timespec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#aa42dd6cab7ce22529b5bc68011d1d21a">stats_start_time</a></td></tr>
<tr class="memdesc:aa42dd6cab7ce22529b5bc68011d1d21a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time at which the runtime started.  <a href="#aa42dd6cab7ce22529b5bc68011d1d21a">More...</a><br/></td></tr>
<tr class="separator:aa42dd6cab7ce22529b5bc68011d1d21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b7740196a8b8beb4d29cd7da7e65a7e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a1b7740196a8b8beb4d29cd7da7e65a7e">stats_initialized</a> = false</td></tr>
<tr class="memdesc:a1b7740196a8b8beb4d29cd7da7e65a7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether <a class="el" href="rt__stats_8c.html#a987e4bed1652d7ebda191ee1f202addc" title="Initializes the entire stats module. ">init_statistics</a> has been called.  <a href="#a1b7740196a8b8beb4d29cd7da7e65a7e">More...</a><br/></td></tr>
<tr class="separator:a1b7740196a8b8beb4d29cd7da7e65a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62672346ada903ef5c36c3999fa0ddc0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structstat__type.html">stat_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a62672346ada903ef5c36c3999fa0ddc0">stat_types</a> []</td></tr>
<tr class="memdesc:a62672346ada903ef5c36c3999fa0ddc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of all statistics that can be gathered in the system.  <a href="#a62672346ada903ef5c36c3999fa0ddc0">More...</a><br/></td></tr>
<tr class="separator:a62672346ada903ef5c36c3999fa0ddc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56bfcaf6466b92d93b69b6dcc9e65d2c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structstat__sample.html">stat_sample</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a56bfcaf6466b92d93b69b6dcc9e65d2c">stat_samples</a> [<a class="el" href="stats_8h.html#aba80bf65b75f471ebcb80e11b6143067">N_REPORTED_STAT_TYPES</a>]</td></tr>
<tr class="memdesc:a56bfcaf6466b92d93b69b6dcc9e65d2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A statically allocated <a class="el" href="structstat__sample.html" title="A single stat sample for a single item. ">stat_sample</a> structure which is pre-allocated to store samples from each stat type.  <a href="#a56bfcaf6466b92d93b69b6dcc9e65d2c">More...</a><br/></td></tr>
<tr class="separator:a56bfcaf6466b92d93b69b6dcc9e65d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b3791fe76f800b747a7c2c35adbdbd"><td class="memItemLeft" align="right" valign="top">static struct timespec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rt__stats_8c.html#a48b3791fe76f800b747a7c2c35adbdbd">stat_sample_interval</a></td></tr>
<tr class="memdesc:a48b3791fe76f800b747a7c2c35adbdbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The interval at which stats should be sampled.  <a href="#a48b3791fe76f800b747a7c2c35adbdbd">More...</a><br/></td></tr>
<tr class="separator:a48b3791fe76f800b747a7c2c35adbdbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Collecting statistics within the runtime. </p>

<p>Definition in file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a42d9f9c2d23c20df602e49b990f0b35f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK_INITIALIZATION</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> (!<a class="code" href="rt__stats_8c.html#a1b7740196a8b8beb4d29cd7da7e65a7e">stats_initialized</a>) { <a class="code" href="logging_8h.html#a887f83dbb884a13949e4f2ad710e5ddf">\</a></div>
<div class="line"><a class="code" href="logging_8h.html#a887f83dbb884a13949e4f2ad710e5ddf">        log_error</a>(<span class="stringliteral">&quot;Statistics not initialized!&quot;</span>); \</div>
<div class="line">        return -1; \</div>
<div class="line">    }</div>
<div class="ttc" id="logging_8h_html_a887f83dbb884a13949e4f2ad710e5ddf"><div class="ttname"><a href="logging_8h.html#a887f83dbb884a13949e4f2ad710e5ddf">log_error</a></div><div class="ttdeci">#define log_error(fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00101">logging.h:101</a></div></div>
<div class="ttc" id="rt__stats_8c_html_a1b7740196a8b8beb4d29cd7da7e65a7e"><div class="ttname"><a href="rt__stats_8c.html#a1b7740196a8b8beb4d29cd7da7e65a7e">stats_initialized</a></div><div class="ttdeci">static bool stats_initialized</div><div class="ttdoc">Whether init_statistics has been called. </div><div class="ttdef"><b>Definition:</b> <a href="rt__stats_8c_source.html#l00043">rt_stats.c:43</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00131">131</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ade4c06414722e68d0198b151bac6439d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLOCK_ID&#160;&#160;&#160;CLOCK_REALTIME_COARSE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The clock used to mark the time at which events take place. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00037">37</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad5c99d1b55ad6b6c60b7b24cfc2e1c70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DURATION_CLOCK_ID&#160;&#160;&#160;CLOCK_MONOTONIC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00038">38</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a525d02d366a7a16a9b33ac9d1dd31b4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GATHER_CUSTOM_STATS&#160;&#160;&#160;1 &amp; <a class="el" href="rt__stats_8c.html#a1c029dcc783c39bf434d8209e1955a15">GATHER_STATS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00086">86</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac5a152504ea5537bced64a03d1bfe766"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GATHER_MSU_STATS&#160;&#160;&#160;1 &amp; <a class="el" href="rt__stats_8c.html#a1c029dcc783c39bf434d8209e1955a15">GATHER_STATS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00085">85</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6c0f9bcea8f2b5cd4a08a7d4b76548f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GATHER_PROFILING&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00092">92</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1c029dcc783c39bf434d8209e1955a15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GATHER_STATS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set to 0, will disable all gathering of statistics. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00083">83</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad861b63dad38014de624510e6211c84d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GATHER_THREAD_STATS&#160;&#160;&#160;1 &amp; <a class="el" href="rt__stats_8c.html#a1c029dcc783c39bf434d8209e1955a15">GATHER_STATS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00087">87</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0f8923f02eb7dfba43a426b8320354da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_STATS&#160;&#160;&#160;8192</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum number of statistics that can be held in the rrdb. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00079">79</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="aaa8af8a5fe5beb6d2b7209d056d79ef2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define N_STAT_TYPES&#160;&#160;&#160;(sizeof(<a class="el" href="controller__stats_8c.html#a62672346ada903ef5c36c3999fa0ddc0">stat_types</a>) / sizeof(*<a class="el" href="controller__stats_8c.html#a62672346ada903ef5c36c3999fa0ddc0">stat_types</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of types of statistics. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00129">129</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab774f01c84ab0258822e84f50c55c31e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WARN_ROLLOVER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">label, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">item_id&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00351">351</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac94c43a4265632fb601fa6f12bd35410"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long double current_double_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00314">314</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a81c3f80dc55b738b8e93e1049b3b9378"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void destroy_stat_item </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstat__item.html">stat_item</a> *&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees the memory associated with an individual stat item. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00294">294</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a214f5bec97705d204e566b59eb4fd3a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void finalize_statistics </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>statlog</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the statistics to statlog if provided, and frees assocated structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statlog</td><td>Log file to dump statistics to or NULL if N/A </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00822">822</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac1c8263aa03ba689b06e2cf9561d3821"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int find_time_index </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtimed__stat.html">timed_stat</a> *&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stat_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds the index at which the given time occurred in the stats. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00505">505</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae157ee19e45d7f91c3dbf7a061190795"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="unused__def_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> flush_all_stats_to_log </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes all statistics to the provided log file. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00278">278</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a962ab14270a8ff454212d1dc31a2b272"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_elapsed_time </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the amount of time that has elapsed since logging started. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*t</td><td>the elapsed time is output into this variable </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00221">221</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a81b88f931c29008e7e0b4e4c4901b876"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structstat__item.html">stat_item</a>* get_item_stat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstat__type.html">stat_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>item_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the stat item associated with the given item_id in the given type. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00300">300</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="af6d4566e62da1172c23a6b435c27dc73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double get_last_stat </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>item_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the last statistic recorded. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00466">466</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a41175d7860a1561e0625432e8b3d255a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structstat__sample.html">stat_sample</a>* get_stat_samples </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname"><em>stat_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n_sample_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Samples the statistic with the provided stat_id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stat_id</td><td>the ID of the <a class="el" href="structstat__type.html" title="The structure holding all items of a type of stats. ">stat_type</a> to sample </td></tr>
    <tr><td class="paramname">time</td><td>The time at which the samples should be taken </td></tr>
    <tr><td class="paramname">n_samples_out</td><td>Output argument, stores the number of samples acquired </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The statically-allocated stat sample (does not need to be freed) </dd></dl>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00634">634</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="acff104aea41cb59659523c979b3d193d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int increment_stat </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname"><em>stat_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>item_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increments the given statistic by the provided value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stat_id</td><td>ID for the stat being logged </td></tr>
    <tr><td class="paramname">item_id</td><td>ID for the item to which the stat refers (must be registered!) </td></tr>
    <tr><td class="paramname">value</td><td>The amount to add to the given stat </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error </dd></dl>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00389">389</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a75d06b36d94388ed944b67baeb24c1e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_stat_item </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>item_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a stat item so that statistics can be logged to it. </p>
<p>Initializes a new stat item so it can have stats registered and can be reported to the global controller.</p>
<p>(e.g. initializing MSU_QUEUE_LEN for item N, corresponding to msu # N) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stat_id</td><td>ID of the statistic type to be logged </td></tr>
    <tr><td class="paramname">item_id</td><td>ID of the item to be logged </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00719">719</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a987e4bed1652d7ebda191ee1f202addc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_statistics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the entire stats module. </p>
<p>MUST BE CALLED before runtime starts </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00783">783</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab0810533bb8602d4909080e6764a25be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lock_item </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstat__item.html">stat_item</a> *&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Locks an item_stats structure, printing an error message on failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*item</td><td>the item_stats structure to lock </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error </dd></dl>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00257">257</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a23576a14e890526ab2d96e4aa3556e0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void realloc_stat_samples </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname"><em>stat_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_samples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reallocates the existing stats structure to store the provided number of samples. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00672">672</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="acb590970b6d8425e105608e8f32ffe0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int record_end_time </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname"><em>stat_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>item_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records the elapsed time since the previous call to record_start_time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stat_id</td><td>ID for stat being logged </td></tr>
    <tr><td class="paramname">item_id</td><td>ID for item within the statistic </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00355">355</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad884fea983aadeb07eace27335ed7f39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int record_start_time </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname"><em>stat_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>item_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a measurement of elapsed time. </p>
<p>Not added to the log until a call to record_end_time </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stat_id</td><td>ID for stat type being logged </td></tr>
    <tr><td class="paramname">item_id</td><td>ID for the item to which the stat refers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error </dd></dl>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00320">320</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab992698ed0b92b65824db71f24e09c29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int record_stat </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname"><em>stat_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>item_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>relog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records a statistic in the statlog. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stat_id</td><td>ID for stat being logged </td></tr>
    <tr><td class="paramname">item_id</td><td>ID for item to which stat refers (must be registered!) </td></tr>
    <tr><td class="paramname">stat</td><td>Statistic to record </td></tr>
    <tr><td class="paramname">relog</td><td>Whether to log statistic if it matches the previously logged stat </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error </dd></dl>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00426">426</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8079b9382495fb3489600591651afc28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int remove_stat_item </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a> <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>item_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Un-registers an item so it can no longer have statistics registered, and will not be reported to the global controller. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00683">683</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae5ba8f15e0132953dc421a6320debc19"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rlock_type </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstat__type.html">stat_type</a> *&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Locks a stat type for reading. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00245">245</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="adb06fb1e42d197434d2daad9ea3297cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="unused__def_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> sample_recent_stats </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname"><em>stat_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structstat__sample.html">stat_sample</a> *&#160;</td>
          <td class="paramname"><em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_samples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Samples <code>sample_size</code> most recent stats in <code>interval</code> intervals. </p>
<p>Note: Not used at the moment, deferring to sample_stat instead </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00612">612</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae042ae408c37f8bccfe835d3a4d7c649"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int sample_stat </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="stat__ids_8h.html#ac210bd14ba53357098c0b3ebdd69784e">stat_id</a>&#160;</td>
          <td class="paramname"><em>stat_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structstat__sample.html">stat_sample</a> *&#160;</td>
          <td class="paramname"><em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_samples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Takes a sample of the provided stat type (stat_id) and places it in <code>sample</code> </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00565">565</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a602037be515c3e6d60b1fd4914edbb5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int sample_stat_item </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstat__item.html">stat_item</a> *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stat_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>sample_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtimed__stat.html">timed_stat</a> *&#160;</td>
          <td class="paramname"><em>sample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Takes a sample of the provided stat item and stores it in <code>sample</code> </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00527">527</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="afd7dde54c9c6c35e6c3fd56003f76946"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int time_cmp </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>t2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns 1 if t1 &gt; t2, -1 if t2 &gt; t1, 0 otherwise. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00497">497</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac5f4d13ef3967b5d3b7890089cebaf8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unlock_item </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstat__item.html">stat_item</a> *&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlocks an item_stats structure, printing an error message on failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*item</td><td>the item_stats structure to unlock </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error </dd></dl>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00269">269</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab1123286c48a6f646108d22d975e4ce6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unlock_type </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstat__type.html">stat_type</a> *&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlocks a stat type. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00236">236</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1a247d3104510651156010e436331a51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int write_item_to_log </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structstat__type.html">stat_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structstat__item.html">stat_item</a> *&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes a single stat item to the log file. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00187">187</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="af73b43b52edc5ef1295f88a474feb5a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int wrlock_type </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstat__type.html">stat_type</a> *&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Locks a stat type for writing. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00227">227</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a48b3791fe76f800b747a7c2c35adbdbd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct timespec stat_sample_interval</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .tv_sec = (<a class="code" href="stats_8h.html#ad0a95ec958d1ee5f5693d210cdc4c7e3">STAT_SAMPLE_PERIOD_MS</a> / 1000) / <a class="code" href="stats_8h.html#a8612c0f61538d8f8dec0208e93af5f98">STAT_SAMPLE_SIZE</a>,</div>
<div class="line">    .tv_nsec = (<span class="keywordtype">int</span>)(<a class="code" href="stats_8h.html#ad0a95ec958d1ee5f5693d210cdc4c7e3">STAT_SAMPLE_PERIOD_MS</a> * 1e6 / <a class="code" href="stats_8h.html#a8612c0f61538d8f8dec0208e93af5f98">STAT_SAMPLE_SIZE</a>) % (<span class="keywordtype">int</span>)1e9</div>
<div class="line">}</div>
<div class="ttc" id="stats_8h_html_ad0a95ec958d1ee5f5693d210cdc4c7e3"><div class="ttname"><a href="stats_8h.html#ad0a95ec958d1ee5f5693d210cdc4c7e3">STAT_SAMPLE_PERIOD_MS</a></div><div class="ttdeci">#define STAT_SAMPLE_PERIOD_MS</div><div class="ttdoc">How often samples are sent from runtime to controller. </div><div class="ttdef"><b>Definition:</b> <a href="stats_8h_source.html#l00132">stats.h:132</a></div></div>
<div class="ttc" id="stats_8h_html_a8612c0f61538d8f8dec0208e93af5f98"><div class="ttname"><a href="stats_8h.html#a8612c0f61538d8f8dec0208e93af5f98">STAT_SAMPLE_SIZE</a></div><div class="ttdeci">#define STAT_SAMPLE_SIZE</div><div class="ttdoc">Number of statistics sampled in each send from runtime to controller. </div><div class="ttdef"><b>Definition:</b> <a href="stats_8h_source.html#l00129">stats.h:129</a></div></div>
</div><!-- fragment -->
<p>The interval at which stats should be sampled. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00629">629</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a56bfcaf6466b92d93b69b6dcc9e65d2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structstat__sample.html">stat_sample</a>* stat_samples[<a class="el" href="stats_8h.html#aba80bf65b75f471ebcb80e11b6143067">N_REPORTED_STAT_TYPES</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A statically allocated <a class="el" href="structstat__sample.html" title="A single stat sample for a single item. ">stat_sample</a> structure which is pre-allocated to store samples from each stat type. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00626">626</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a62672346ada903ef5c36c3999fa0ddc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structstat__type.html">stat_type</a> stat_types[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The list of all statistics that can be gathered in the system. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00096">96</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1b7740196a8b8beb4d29cd7da7e65a7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool stats_initialized = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether <a class="el" href="rt__stats_8c.html#a987e4bed1652d7ebda191ee1f202addc" title="Initializes the entire stats module. ">init_statistics</a> has been called. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00043">43</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa42dd6cab7ce22529b5bc68011d1d21a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct timespec stats_start_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The time at which the runtime started. </p>

<p>Definition at line <a class="el" href="rt__stats_8c_source.html#l00041">41</a> of file <a class="el" href="rt__stats_8c_source.html">rt_stats.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
